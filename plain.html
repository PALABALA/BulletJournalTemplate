<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Bullet Journal Template</title>
    <style>
        body {
            font-family: 'Helvetica Neue';
        }
        .logTitle {
            font-size: 22px;
            font-weight: bold;
        }
        .weeklyLogSubTitle {
            font-size: 24px;
            font-weight: bold;
        }
        table {
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div>
        Local Date (mm/dd/yyyy): <input type="text" id="date" style="width: 300px" />
        <button id="updateDateButton">Update First Date</button>
    </div>
    <br /><br /><hr /><br /><br />

    <div id="weeklyLogWrapper"></div>
    <br /><br /><hr /><br /><br />

    <div id="dailyLogWrapper"></div>
    <br /><br /><hr /><br /><br />

    <script>
        function getWeekOfMonth(date) {
            const adjustedDate = date.getDate() + date.getDay();
            const prefixes = ['0', '1', '2', '3', '4', '5'];
            return (parseInt(prefixes[0 | adjustedDate / 7])+1);
        }

        function getDoubleDigitNumberString(num) {
            return num < 10 ? `0${num}` : `${num}`;
        }

        function getMonthString(date) {
            const month = date.getMonth() + 1;
            return getDoubleDigitNumberString(month);
        }

        function generateTemplate(date) {
            const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            const dayShortNames = ['Sun', 'Mon', 'Tu', 'Wed', 'Th', 'Fri', 'Sat'];
            const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

            const monthString = getMonthString(date);
            const lastDayOfWeek = new Date(date);
            lastDayOfWeek.setDate(lastDayOfWeek.getDate() + 6);

            // weekly log
            const weeklyLogWrapper = document.getElementById('weeklyLogWrapper');

            const weeklyLogTags = document.createElement('div');
            weeklyLogTags.innerHTML = `Tags: Bullet Journal | Weekly Log | ${monthNames[date.getMonth()]} | ${date.getFullYear()}`;
            weeklyLogWrapper.appendChild(weeklyLogTags);

            const weeklyLogTitle = document.createElement('div');
            weeklyLogTitle.className = 'logTitle';
            weeklyLogTitle.innerHTML = `${monthString} - Week ${getWeekOfMonth(date)} - 01 - Weekly Log (${monthString}/${getDoubleDigitNumberString(date.getDate())} - ${getMonthString(lastDayOfWeek)}/${getDoubleDigitNumberString(lastDayOfWeek.getDate())}) - ${date.getFullYear()}`;
            weeklyLogWrapper.appendChild(weeklyLogTitle);

            const tasks = document.createElement('div');
            tasks.innerHTML = 'Tasks';
            tasks.className = 'weeklyLogSubTitle';
            weeklyLogWrapper.appendChild(tasks);
            weeklyLogWrapper.appendChild(document.createElement('hr'));
            weeklyLogWrapper.appendChild(document.createElement('br'));

            const tracker = document.createElement('div');
            tracker.innerHTML = 'Tracker';
            tracker.className = 'weeklyLogSubTitle';
            weeklyLogWrapper.appendChild(tracker);
            weeklyLogWrapper.appendChild(document.createElement('hr'));

            const trackerDays = document.createElement('div');
            trackerDays.innerHTML = 'M T W T F S S';
            trackerDays.style.fontFamily = 'Helvetica Neue';
            trackerDays.style.fontSize = '18px';
            trackerDays.style.wordSpacing = '5px';
            weeklyLogWrapper.appendChild(trackerDays);
            weeklyLogWrapper.appendChild(document.createElement('br'));

            const calendar = document.createElement('div');
            calendar.innerHTML = 'Calendar';
            calendar.className = 'weeklyLogSubTitle';
            weeklyLogWrapper.appendChild(calendar);
            weeklyLogWrapper.appendChild(document.createElement('hr'));

            const calendarTable = document.createElement('table');
            for (let i = 0; i < 7; ++i) {
                const currentDate = new Date(date);
                currentDate.setDate(currentDate.getDate() + i);
                const tr = document.createElement('tr');
                const th1 = document.createElement('td');
                th1.textContent = `${getDoubleDigitNumberString(currentDate.getDate())} ${dayShortNames[currentDate.getDay()]}`;
                const th2 = document.createElement('td');
                th2.textContent = '6:00am - Gym';
                tr.appendChild(th1);
                tr.appendChild(th2);
                calendarTable.appendChild(tr);
            }
            weeklyLogWrapper.appendChild(calendarTable);


            // daily log
            const dailyLogWrapper = document.getElementById('dailyLogWrapper');

            const dailyLogTags = document.createElement('div');
            dailyLogTags.innerHTML = `Tags: Bullet Journal | Daily Log | ${monthNames[date.getMonth()]} | ${date.getFullYear()}`;
            dailyLogWrapper.appendChild(dailyLogTags);

            const dailyLogTitle = document.createElement('div');
            dailyLogTitle.className = 'logTitle';
            dailyLogTitle.innerHTML = `${monthString} - Week ${getWeekOfMonth(date)} - 02 - Daily Log (${monthString}/${getDoubleDigitNumberString(date.getDate())} - ${getMonthString(lastDayOfWeek)}/${getDoubleDigitNumberString(lastDayOfWeek.getDate())}) - ${date.getFullYear()}`;
            dailyLogWrapper.appendChild(dailyLogTitle);

            for (let i = 0; i < 7; ++i) {
                const currentDate = new Date(date);
                currentDate.setDate(currentDate.getDate() + i);
                const dayTitle = document.createElement('div');
                dayTitle.innerHTML = `${getMonthString(currentDate)}/${getDoubleDigitNumberString(currentDate.getDate())}/${currentDate.getFullYear()} - ${dayNames[currentDate.getDay()]}`;
                dayTitle.style.fontFamily = 'Helvetica Neue';
                dayTitle.style.fontSize = '18px';
                dayTitle.style.fontWeight = 'bold';
                dailyLogWrapper.appendChild(document.createElement('hr'));
                dailyLogWrapper.appendChild(dayTitle);
                dailyLogWrapper.appendChild(document.createElement('br'));
            }
        }

        const defaultDate = new Date();
        const dateInput = document.getElementById('date');
        dateInput.value = defaultDate.toLocaleDateString();

        document.getElementById('updateDateButton').onclick = function() {
            while(weeklyLogWrapper.firstChild) {
                weeklyLogWrapper.firstChild.remove();
            }
            while(dailyLogWrapper.firstChild) {
                dailyLogWrapper.firstChild.remove();
            }
            generateTemplate(new Date(dateInput.value));
        }

        generateTemplate(defaultDate);
    </script>
</body>
</html>
